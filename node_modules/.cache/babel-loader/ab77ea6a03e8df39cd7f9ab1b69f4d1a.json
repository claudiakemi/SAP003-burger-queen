{"ast":null,"code":"import _toConsumableArray from\"/home/ubuntu/SAP003-burger-queen/burger-queen/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/ubuntu/SAP003-burger-queen/burger-queen/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ubuntu/SAP003-burger-queen/burger-queen/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import firebase from'../../utils/firebaseUtils';import'./styles.css';import Input from'../../components/Input';import Button from'../../components/Button';import Header from'../../components/Header';import{Link}from\"react-router-dom\";var extraArray=[];var timestamp=new Date();function Waiter(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),menu=_useState2[0],setMenu=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredMenu=_useState4[0],setFilteredMenu=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),order=_useState6[0],setOrder=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),client=_useState8[0],setClient=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),table=_useState10[0],setTable=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),total=_useState12[0],setTotal=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),option=_useState14[0],setOption=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),extra=_useState16[0],setExtra=_useState16[1];var _useState17=useState('Em preparo'),_useState18=_slicedToArray(_useState17,2),orderStatus=_useState18[0],setOrderStatus=_useState18[1];useEffect(function(){firebase.firestore().collection('menu').get().then(function(querySnapshot){var newMenu=querySnapshot.docs.map(function(doc){return _objectSpread({},doc.data());});setMenu(newMenu);setFilteredMenu(newMenu);});},[]);function filterMenu(e){var buttonId=e.currentTarget.id;if(buttonId===\"breakfast\"){var breakfast=menu.filter(function(item){return item.breakfast===true;});setFilteredMenu(breakfast);}else{var lunchDinner=menu.filter(function(item){return item.breakfast===false;});setFilteredMenu(lunchDinner);}}function selectOption(event){var optionName=event.currentTarget.id;setOption(optionName);}function selectExtra(event){var extraName=event.currentTarget.id;var result=extraArray.push(extraName);extraArray.length===1?setTotal(total+1):setTotal(total);setExtra(extraName);}var addItem=function addItem(item){if(order.includes(item)){item.quantity+=1;setOrder(_toConsumableArray(order));}else{item.quantity=1;setOrder(function(current){return[].concat(_toConsumableArray(current),[item]);});}setTotal(total+item.price);};var subtractItem=function subtractItem(item){if(item.quantity>0){item.quantity-=1;setOrder(_toConsumableArray(order));setTotal(total-item.price);}else{item.quantity=0;setOrder(_toConsumableArray(order));}};function deleteItem(item){var itemIndex=order.filter(function(elem){return elem!==item;});setOrder(itemIndex);setTotal(total-item.price*item.quantity);}return React.createElement(\"main\",{id:\"all-menu\"},React.createElement(Header,null),React.createElement(\"hr\",{id:\"line\"}),React.createElement(Link,{to:\"/pages/Ready/index\"},React.createElement(Button,{class:\"btn\",name:\"Ver pedidos prontos para entrega\"})),React.createElement(\"hr\",{id:\"line\"}),React.createElement(\"h1\",{id:\"waiter\"},\"Card\\xE1pio\"),React.createElement(\"div\",null,React.createElement(Button,{id:\"breakfast\",class:\"btn\",name:\"Caf\\xE9 da manh\\xE3\",handleClick:filterMenu}),React.createElement(Button,{id:\"lunch\",class:\"btn\",name:\"Almo\\xE7o e Janta\",handleClick:filterMenu})),React.createElement(\"section\",{id:\"client-form\"},React.createElement(Input,{type:\"text\",id:\"input\",label:\"Nome do cliente: \",value:client,handleChange:function handleChange(e){return setClient(e.currentTarget.value);}}),React.createElement(Input,{type:\"text\",id:\"input-table\",label:\"N\\xBA da mesa: \",value:table,handleChange:function handleChange(e){return setTable(e.currentTarget.value);}})),React.createElement(\"ul\",{id:\"items-list\"},filteredMenu.map(function(doc){return React.createElement(\"section\",{id:\"item-card\"},React.createElement(\"figure\",{id:\"img-box\"},React.createElement(\"img\",{id:\"photo\",src:doc.img})),React.createElement(\"article\",{id:\"product-info\"},React.createElement(\"h3\",null,doc.name),React.createElement(\"div\",{id:\"quantity\"},\"Quantidade:\",React.createElement(Button,{id:\"quant-btn\",name:\"-\",handleClick:function handleClick(){return subtractItem(doc);}}),order.map(function(elem){return elem.name===doc.name&&elem.quantity>0?elem.quantity:false;}),React.createElement(Button,{id:\"quant-btn\",name:\"+\",handleClick:function handleClick(){return addItem(doc);}})),React.createElement(\"section\",{id:\"options\"},doc.options.map(function(data){return data.length!==0?React.createElement(Button,{name:data,id:data,class:\"option-btn\",handleClick:selectOption}):\"\";}),doc.extra.map(function(data){return data.length!==0?React.createElement(Button,{name:data,id:data,class:\"extra-btn\",handleClick:selectExtra}):\"\";})),React.createElement(\"p\",null,\"Pre\\xE7o: R$\",doc.price,\",00\")));})),React.createElement(\"hr\",{id:\"line\"}),React.createElement(\"section\",{id:\"resume-card\"},React.createElement(\"h1\",{id:\"resume\"},\"Resumo do pedido\"),React.createElement(\"p\",null,\"Mesa: \",table,\" - Cliente: \",client),order.map(function(doc){return React.createElement(\"section\",{id:\"order-card\"},React.createElement(\"p\",null,React.createElement(\"strong\",null,doc.quantity,\" \",doc.name)),doc.options.reduce(function(data){return data.length!==0?React.createElement(\"p\",null,option):\"\";}),doc.extra.reduce(function(data){return data.length!==0?React.createElement(\"p\",null,extra):\"\";}),React.createElement(\"p\",null,\"Pre\\xE7o: R$\",doc.price,\",00\"),React.createElement(Button,{id:\"delete-item\",handleClick:function handleClick(){return deleteItem(doc);},name:\"Deletar item\"}),React.createElement(\"hr\",{id:\"resume-line\"}));}),React.createElement(\"p\",null,\"Total: R$\",total,\",00\")),React.createElement(Button,{class:\"btn\",handleClick:saveOrder,name:\"Enviar para preparo\"}),React.createElement(Link,{to:\"/\"},React.createElement(Button,{class:\"back\",name:\"Voltar\"})));function saveOrder(e){e.preventDefault();firebase.firestore().collection('orders').add({order:order,client:client,table:table,option:option,extra:extra,total:total,orderStatus:orderStatus,timestamp:timestamp}).then(function(){setOrder([]);setClient('');setTable('');setOption('');setExtra([]);setTotal(0);setOrderStatus('Em preparo');alert(\"Pedido enviado\");var timeConvertedKitchen=timestamp.getTime();});}}export default Waiter;","map":{"version":3,"sources":["/home/ubuntu/SAP003-burger-queen/burger-queen/src/pages/Waiter/index.js"],"names":["React","useState","useEffect","firebase","Input","Button","Header","Link","extraArray","timestamp","Date","Waiter","menu","setMenu","filteredMenu","setFilteredMenu","order","setOrder","client","setClient","table","setTable","total","setTotal","option","setOption","extra","setExtra","orderStatus","setOrderStatus","firestore","collection","get","then","querySnapshot","newMenu","docs","map","doc","data","filterMenu","e","buttonId","currentTarget","id","breakfast","filter","item","lunchDinner","selectOption","event","optionName","selectExtra","extraName","result","push","length","addItem","includes","quantity","current","price","subtractItem","deleteItem","itemIndex","elem","value","img","name","options","reduce","saveOrder","preventDefault","add","alert","timeConvertedKitchen","getTime"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport firebase from '../../utils/firebaseUtils';\nimport './styles.css';\nimport Input from '../../components/Input';\nimport Button from '../../components/Button';\nimport Header from '../../components/Header';\nimport { Link } from \"react-router-dom\";\nlet extraArray = [];\nlet timestamp = new Date();\n\nfunction Waiter () {\n  const [menu, setMenu] = useState([]);\n  const [filteredMenu,setFilteredMenu] = useState([]);\n  const [order, setOrder] = useState([]);\n  const [client, setClient] = useState('');\n  const [table, setTable] = useState('');\n  const [total, setTotal] = useState(0);\n  const [option, setOption] = useState('');\n  const [extra, setExtra] = useState([]);\n  const [orderStatus, setOrderStatus] = useState('Em preparo');\n\n  useEffect(() => {\n    firebase.firestore()\n    .collection('menu')\n    .get()\n    .then(\n      querySnapshot => {\n        const newMenu = querySnapshot.docs.map((doc) => ({\n          ...doc.data()}))\n          setMenu(newMenu)\n          setFilteredMenu(newMenu)\n        }\n      )\n    },\n    []\n  );\n\n  function filterMenu (e) {\n    const buttonId = e.currentTarget.id;\n    if (buttonId === \"breakfast\") {\n      const breakfast = menu.filter((item) => item.breakfast === true);\n      setFilteredMenu(breakfast)\n    } else {\n      const lunchDinner = menu.filter((item) => item.breakfast === false);\n      setFilteredMenu(lunchDinner)\n    }\n  }\n\n  function selectOption (event) {\n    const optionName = event.currentTarget.id;\n    setOption(optionName)\n  }\n\n  function selectExtra (event) {\n    const extraName = event.currentTarget.id;\n    let result = extraArray.push(extraName);\n    (extraArray.length === 1)? setTotal(total+(1)) : setTotal(total)\n    setExtra(extraName)\n  }\n\n  const addItem = (item) => {\n    if(order.includes(item)){\n      item.quantity += 1\n      setOrder([...order]);\n    } else {\n      item.quantity = 1;\n      setOrder(current => [...current, item])\n    }\n    setTotal(total + (item.price))\n  }\n\n  const subtractItem = (item) => {\n    if(item.quantity > 0){\n      item.quantity -= 1\n      setOrder([...order]);\n      setTotal(total - (item.price))\n    } else {\n      item.quantity = 0;\n      setOrder([...order])\n    }\n  }\n\n  function deleteItem (item) {\n    const itemIndex = order.filter(elem => elem !== item)\n    setOrder(itemIndex)\n    setTotal(total - (item.price*item.quantity))\n  }\n\n  return (\n    <main id=\"all-menu\">\n    <Header />\n    <hr id=\"line\"/>\n    <Link to='/pages/Ready/index'>\n    <Button class=\"btn\" name=\"Ver pedidos prontos para entrega\"/>\n    </Link>\n    <hr id=\"line\"/>\n    <h1 id=\"waiter\">Cardápio</h1>\n    <div>\n    <Button id=\"breakfast\" class=\"btn\" name=\"Café da manhã\" handleClick={filterMenu}/>\n    <Button id=\"lunch\" class=\"btn\" name=\"Almoço e Janta\" handleClick={filterMenu}/>\n    </div>\n    <section id=\"client-form\">\n    <Input type=\"text\" id=\"input\" label=\"Nome do cliente: \" value={client}\n    handleChange={e => setClient(e.currentTarget.value)}/>\n    <Input type=\"text\" id=\"input-table\" label=\"Nº da mesa: \" value={table}\n    handleChange={e => setTable(e.currentTarget.value)}/>\n    </section>\n    <ul id=\"items-list\">\n    {filteredMenu.map(doc => (\n      <section id=\"item-card\">\n      <figure id=\"img-box\">\n      <img id=\"photo\" src={doc.img}/>\n      </figure>\n      <article id=\"product-info\">\n      <h3>{doc.name}</h3>\n      <div id=\"quantity\">Quantidade:\n      <Button id=\"quant-btn\" name=\"-\" handleClick={() => subtractItem(doc)} />\n      { order.map(elem => (elem.name === doc.name && elem.quantity > 0)? elem.quantity : false)}\n      <Button id=\"quant-btn\" name=\"+\" handleClick={() => addItem(doc)} />\n      </div>\n      <section id=\"options\">\n      {doc.options.map(data => (\n        (data.length !== 0) ? <Button name={data} id={data} class=\"option-btn\" handleClick={selectOption}/> : \"\"\n      ))}\n      {doc.extra.map(data => (\n        (data.length !== 0) ? <Button name={data} id={data} class=\"extra-btn\" handleClick={selectExtra} /> : \"\"\n      ))}\n      </section>\n      <p>Preço: R${doc.price},00</p>\n      </article>\n      </section>\n    ))}\n    </ul>\n    <hr id=\"line\"/>\n    <section id=\"resume-card\">\n    <h1 id=\"resume\">Resumo do pedido</h1>\n    <p>Mesa: {table} - Cliente: {client}</p>\n    {order.map(doc => (\n      <section id=\"order-card\">\n      <p><strong>{doc.quantity} {doc.name}</strong></p>\n      {doc.options.reduce(data => (\n        (data.length !== 0)? <p>{option}</p> : \"\"\n      ))}\n      {doc.extra.reduce(data => (\n        (data.length !== 0)? <p>{extra}</p> : \"\"\n      ))}\n      <p>Preço: R${doc.price},00</p>\n      <Button id=\"delete-item\" handleClick={() => deleteItem(doc)} name=\"Deletar item\" />\n      <hr id=\"resume-line\"/>\n      </section>\n    ))}\n    <p>Total: R${total},00</p>\n    </section>\n    <Button class=\"btn\" handleClick={saveOrder} name=\"Enviar para preparo\"/>\n    <Link to='/'><Button class=\"back\" name=\"Voltar\"/></Link>\n    </main>\n  )\n\n  function saveOrder (e) {\n    e.preventDefault()\n    firebase.firestore()\n    .collection('orders')\n    .add({\n      order,\n      client,\n      table,\n      option,\n      extra,\n      total,\n      orderStatus,\n      timestamp: timestamp\n    })\n    .then(() => {\n      setOrder([])\n      setClient('')\n      setTable('')\n      setOption('')\n      setExtra([])\n      setTotal(0)\n      setOrderStatus('Em preparo')\n      alert(\"Pedido enviado\")\n      let timeConvertedKitchen = timestamp.getTime()\n    })\n  }\n}\n\nexport default Waiter\n"]},"metadata":{},"sourceType":"module"}